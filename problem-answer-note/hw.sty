\ProvidesPackage{hw}

% \RequirePackage{fontspec}
\RequirePackage{amsmath}
\RequirePackage{amssymb}
\RequirePackage[svgnames]{xcolor}
\RequirePackage{hyperref}
\RequirePackage{graphicx,float,subcaption}
\RequirePackage{hologo,verbatim,fancyvrb,layout,multicol}
\RequirePackage{unicode-math}
\RequirePackage{cases}
\RequirePackage{indentfirst}
\RequirePackage{cancel}
\RequirePackage{relsize}		%\mathlarger
\RequirePackage{braket}			%Dirac notation
\RequirePackage[left=2.5cm, right = 2.5cm, top = 2.5cm, bottom = 2.5cm]{geometry}

\hypersetup{ % Set up hyperref options
	unicode, % Use unicode for links
	pdfborder={0 0 0}, % Suppress border around pdf
	%xetex,
	%pagebackref=true,
	%hyperfootnotes=false, % We already use footmisc
	bookmarksdepth=section,
	bookmarksopen=true, % Expand the bookmarks as soon as the pdf file is opened
	%bookmarksopenlevel=4,
	linktoc=all, % Toc entries and numbers links to pages
	breaklinks=true,
	colorlinks=true,
	%allcolors=DarkGreen,
	citecolor = DarkOrange,
    linkcolor = Blue,
    %pagecolor = Blue,
	urlcolor = OliveGreen,
}

\RequirePackage{tikz}
\usetikzlibrary{tikzmark}
\usetikzlibrary{arrows.meta,bending}
\usetikzlibrary{calc}
\usetikzlibrary{patterns}  %条纹
\usetikzlibrary{decorations.markings}

\tikzset{
    % 1. 定义存储变量的键（类似于定义局部变量）
    mid arrow options/.is family,
    mid arrow options/.cd,
    pos/.store in=\midarrowpos,   % 将 pos 的值存入 \midarrowpos
    type/.store in=\midarrowtype, % 将 type 的值存入 \midarrowtype
    pos=0.5,                      % 默认位置
    type=stealth,                 % 默认箭头类型
}

\tikzset{
    % 2. 定义主样式
    mid arrow/.style={
        % 先处理传入的参数
        mid arrow options/.cd, #1,
        % 切回 tikz 上下文来应用装饰
        /tikz/.cd, 
        decoration={
            markings, 
            mark=at position \midarrowpos with {\arrow{\midarrowtype}}
        },
        postaction={decorate}
    }
}
\tikzset{every picture/.style={line width=0.75pt}} %set default line width to 0.75pt  

\RequirePackage[force]{filehook} % Fixes an error
\RequirePackage{libertinus}
% \setromanfont[
%     Scale = 1.04,
% ]{Libertinus Serif}
% \setsansfont[
%     Scale=1
% ]{Libertinus Sans}
% \setmonofont[
%     Scale=.89
% ]{Liberation Mono}
% \setmathfont{Libertinus Math}

% =================如需中文支持,将下列代码取消注释即可
\RequirePackage[UTF8, scheme=plain, punct=plain, zihao=false]{ctex}
\setCJKmainfont[
	Mapping=fullwidth-stop,
    UprightFont = * ,       % 默认 Regular
    BoldFont = * Bold,
    ItalicFont = * ,        % 中文没有 italic，指向 Regular
    BoldItalicFont = * Bold
]{Noto Serif CJK SC}
\setCJKsansfont[
    UprightFont = * ,
    BoldFont = * Bold,
    ItalicFont = * ,
    BoldItalicFont = * Bold
]{Noto Sans CJK SC}
\setCJKmonofont[
    UprightFont = * ,
    BoldFont = * Bold,
    ItalicFont = * ,
    BoldItalicFont = * Bold
]{Noto Sans Mono CJK SC}
% ==================
\newcounter{problemname}
\numberwithin{equation}{problemname}
\numberwithin{section}{problemname}
\renewcommand{\thesubsection}{(\arabic{subsection})}

\newcounter{alphsec}[problemname]
\renewcommand{\thealphsec}{(\alph{alphsec})}
\newcommand{\alphsection}[1]{%
    \par
    \addvspace{3.25ex plus 1ex minus .2ex}
    \refstepcounter{alphsec}
    \noindent
    \textbf{\large\thealphsec\quad #1}
    \par
    \nobreak
    \addvspace{1.5ex plus .2ex}
}

\newenvironment{problem}{
    \stepcounter{problemname}  %计数器加一
    \par\pdfbookmark{Problem \arabic{problemname} .}{problem\arabic{problemname}}    %为pdf增加书签
    \section*{\textsc{Problem \arabic{problemname}.} }\par
}{\par}

\newenvironment{note}{\par\noindent\textsc{Note of \textbf{Problem \arabic{problemname}}. }}{\\\par}

\AtBeginDocument{
    \newcommand*{\eu}{\mathrm{e}}
    \newcommand*{\ramuno}{\mathrm{i}}
    \newcommand*{\dbar}{\mathrm{đ}}
    % \newcommand*{\dif}{\mathrm{d}}
    \newcommand*{\dif}{\mathop{}\!\mathrm{d}}
    \newcommand{\bm}[1]{\symbfit{#1}}
    \renewcommand*{\varPi}{\symit{\Pi}}
    \renewcommand*{\varPhi}{\symit{\Phi}}
    \renewcommand*{\varLambda}{\symit{\Lambda}}
    \renewcommand*{\varTheta}{\symit{\Theta}}
}

\endinput